{"version":3,"sources":["app/form-elements/OfferManagement.js"],"names":["OfferManagement","useState","values","setValues","coupons","setCoupons","ok","setOk","useEffect","getData","textChange","e","newValues","target","id","value","instance","get","then","res","data","console","log","className","onSubmit","preventDefault","post","Group","htmlFor","Control","onChange","type","placeholder","map","item","k","couponcode","discount","maxpurchaseamount","maxdiscountamount","couponExpiredate","onClick","_id"],"mappings":"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","file":"static/js/22.143655a1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Form } from 'react-bootstrap';\nimport instance from '../axios-orders'\n\n\n\nfunction OfferManagement() {\n\n\n\n    const [values, setValues] = useState()\n    const [coupons, setCoupons] = useState([])\n    const [ok, setOk] = useState(true)\n\n\n    useEffect(() => {\n        getData()\n    }, [ok])\n\n    const textChange = (e) => {\n        const newValues = { ...values }\n        newValues[e.target.id] = e.target.value\n        setValues(newValues)\n    }\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        setOk(!ok)\n        instance.post('/addcoupon', values).then((res) => {\n\n        })\n    }\n\n    const getData = () => {\n        instance.get('/getcoupon').then((res) => {\n            setCoupons(res.data)\n        })\n    }\n\n    const deleteOffer = (id) => {\n        console.log(id)\n        instance.get(`/dltcoupon/${id}`).then((res) => {\n            setCoupons(res.data)\n        })\n    }\n\n    console.log(coupons)\n\n    console.log(values)\n    return (\n        <div className=\"row pt-5 mt-5\">\n            <div className=\"col-md-6 grid-margin stretch-card\">\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <h4 className=\"card-title\">Add Coupon</h4>\n                        <form onSubmit={submitHandler} className=\"forms-sample\">\n                            <Form.Group className=\"row\">\n                                <label htmlFor=\"exampleInputUsername2\" className=\"col-sm-3 col-form-label\">Enter Coupon Code</label>\n                                <div className=\"col-sm-9\">\n                                    <Form.Control onChange={textChange} type=\"text\" className=\"form-control\" id=\"couponcode\" placeholder=\"Type here\" />\n                                </div>\n                            </Form.Group>\n                            <Form.Group className=\"row\">\n                                <label htmlFor=\"exampleInputEmail2\" className=\"col-sm-3 col-form-label\">Discount(In %)</label>\n                                <div className=\"col-sm-9\">\n                                    <Form.Control onChange={textChange} type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Type here\" />\n                                </div>\n                            </Form.Group>\n                            <Form.Group className=\"row\">\n                                <label htmlFor=\"exampleInputMobile\" className=\"col-sm-3 col-form-label\">Max Purchase Amount</label>\n                                <div className=\"col-sm-9\">\n                                    <Form.Control onChange={textChange} type=\"number\" className=\"form-control\" id=\"maxpurchaseamount\" placeholder=\"Type here\" />\n                                </div>\n                            </Form.Group>\n                            <Form.Group className=\"row\">\n                                <label htmlFor=\"exampleInputPassword2\" className=\"col-sm-3 col-form-label\">Max Discount Amount</label>\n                                <div className=\"col-sm-9\">\n                                    <Form.Control onChange={textChange} type=\"number\" className=\"form-control\" id=\"maxdiscountamount\" placeholder=\"Type here\" />\n                                </div>\n                            </Form.Group>\n                            <Form.Group className=\"row\">\n                                <label htmlFor=\"exampleInputConfirmPassword2\" className=\"col-sm-3 col-form-label\">Coupon Expire Date</label>\n                                <div className=\"col-sm-9\">\n                                    <Form.Control onChange={textChange} type=\"Date\" className=\"form-control\" id=\"couponExpiredate\" placeholder=\"Type here\" />\n                                </div>\n                            </Form.Group>\n                            <div className=\"pt-4\">\n                                <button type=\"submit\" className=\"btn btn-primary mr-2\">Create Coupon</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-md-6 grid-margin stretch-card\">\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <h4 className=\"card-title\">Coupons</h4>\n                        <div className=\"table-responsive\">\n                            <table className=\"table table-hover\">\n                                <thead>\n                                    <tr>\n                                        <th>Coupon Code</th>\n                                        <th>Discount(In%)</th>\n                                        <th>Min_price</th>\n                                        <th>Min_discount</th>\n                                        <th>Expire Date</th>\n                                        <th>Status</th>\n                                        <th>Delete</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {/* <tr>\n                      <td>Jacob</td>\n                      <td>Photoshop</td>\n                      <td className=\"text-danger\"> 28.76% <i className=\"mdi mdi-arrow-down\"></i></td>\n                      <td><label className=\"badge badge-danger\">Pending</label></td>\n                    </tr> */}\n\n                                    {coupons.map((item, k) => {\n                                        return (\n                                            <tr>\n                                                <td>{item.couponcode}</td>\n                                                <td>{item.discount}</td>\n                                                <td>{item.maxpurchaseamount}</td>\n                                                <td>{item.maxdiscountamount}</td>\n                                                <td className=\"text-success\">{item.couponExpiredate}</td>\n                                                <td><label className=\"badge badge-success\">onProcess</label></td>\n                                                <td> <button onClick={() => { deleteOffer(item._id) }} type=\"button\" className=\"btn btn-outline-danger btn-fw\">Delete</button></td>\n                                            </tr>\n                                        )\n                                    })}\n\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default OfferManagement\n"],"sourceRoot":""}